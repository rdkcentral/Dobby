<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dobby: InterContainerRouting Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dobby<span id="projectnumber">&#160;3.0</span>
   </div>
   <div id="projectbrief">Dobby “Docker based Thingy” is a tool for managing and running OCI containers using crun</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">InterContainerRouting Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Used to add iptables firewall rules to allow a container to either expose a port to another container or to access a port on another container.  
<a href="namespaceInterContainerRouting.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae8a445c1f51656b2120a0f6ac71fa5c9" id="r_ae8a445c1f51656b2120a0f6ac71fa5c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceInterContainerRouting.html#ae8a445c1f51656b2120a0f6ac71fa5c9">addRules</a> (const std::shared_ptr&lt; <a class="el" href="classNetfilter.html">Netfilter</a> &gt; &amp;netfilter, const std::shared_ptr&lt; <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a> &gt; &amp;helper, const std::shared_ptr&lt; <a class="el" href="classDobbyRdkPluginUtils.html">DobbyRdkPluginUtils</a> &gt; &amp;utils, rt_defs_plugins_networking_data_inter_container_element *const *portConfigs, size_t numPortConfigs)</td></tr>
<tr class="memdesc:ae8a445c1f51656b2120a0f6ac71fa5c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the necessary iptables firewall rules to enable routing of packets to / from one container to another.  <br /></td></tr>
<tr class="separator:ae8a445c1f51656b2120a0f6ac71fa5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08920c39894c88bf44bd07ce9773809" id="r_ad08920c39894c88bf44bd07ce9773809"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceInterContainerRouting.html#ad08920c39894c88bf44bd07ce9773809">removeRules</a> (const std::shared_ptr&lt; <a class="el" href="classNetfilter.html">Netfilter</a> &gt; &amp;netfilter, const std::shared_ptr&lt; <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a> &gt; &amp;helper, const std::shared_ptr&lt; <a class="el" href="classDobbyRdkPluginUtils.html">DobbyRdkPluginUtils</a> &gt; &amp;utils, rt_defs_plugins_networking_data_inter_container_element *const *portConfigs, size_t numPortConfigs)</td></tr>
<tr class="memdesc:ad08920c39894c88bf44bd07ce9773809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the inter container port forwarding rules from iptables.  <br /></td></tr>
<tr class="separator:ad08920c39894c88bf44bd07ce9773809"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Used to add iptables firewall rules to allow a container to either expose a port to another container or to access a port on another container. </p>
<dl class="section see"><dt>See also</dt><dd>the plugin's README.md for more details on usage.</dd></dl>
<p>This adds the necessary rules to iptables when the container is started and deletes them again when the container is stopped. All the rules are tagged (via an iptables comment) with the name of the container, this should ensure rules are correctly added and removed. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae8a445c1f51656b2120a0f6ac71fa5c9" name="ae8a445c1f51656b2120a0f6ac71fa5c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a445c1f51656b2120a0f6ac71fa5c9">&#9670;&#160;</a></span>addRules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InterContainerRouting::addRules </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classNetfilter.html">Netfilter</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>netfilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>helper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classDobbyRdkPluginUtils.html">DobbyRdkPluginUtils</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>utils</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_defs_plugins_networking_data_inter_container_element *const *&#160;</td>
          <td class="paramname"><em>portConfigs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numPortConfigs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the necessary iptables firewall rules to enable routing of packets to / from one container to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netfilter</td><td>Instance of <a class="el" href="classNetfilter.html" title="Class that can read / write iptables rule sets.">Netfilter</a> class. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">helper</td><td>Instance of <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">utils</td><td>Instance of <a class="el" href="classDobbyRdkPluginUtils.html" title="Class for useful utility methods for plugins such as adding mounts and environment variables.">DobbyRdkPluginUtils</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">portConfigs</td><td>libocispec structs containing ports to setup, both incoming and outgoing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numPortConfigs</td><td>The number of portConfigs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, otherwise false. </dd></dl>

</div>
</div>
<a id="ad08920c39894c88bf44bd07ce9773809" name="ad08920c39894c88bf44bd07ce9773809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08920c39894c88bf44bd07ce9773809">&#9670;&#160;</a></span>removeRules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InterContainerRouting::removeRules </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classNetfilter.html">Netfilter</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>netfilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>helper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classDobbyRdkPluginUtils.html">DobbyRdkPluginUtils</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>utils</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_defs_plugins_networking_data_inter_container_element *const *&#160;</td>
          <td class="paramname"><em>portConfigs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numPortConfigs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the inter container port forwarding rules from iptables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netfilter</td><td>Instance of <a class="el" href="classNetfilter.html" title="Class that can read / write iptables rule sets.">Netfilter</a> class. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">helper</td><td>Instance of <a class="el" href="classNetworkingHelper.html">NetworkingHelper</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">utils</td><td>Instance of <a class="el" href="classDobbyRdkPluginUtils.html" title="Class for useful utility methods for plugins such as adding mounts and environment variables.">DobbyRdkPluginUtils</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">portConfigs</td><td>libocispec structs containing ports to setup, both incoming and outgoing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numPortConfigs</td><td>The number of portConfigs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, otherwise false. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
