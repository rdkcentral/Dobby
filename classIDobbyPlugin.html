<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dobby: IDobbyPlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dobby
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Dobby “Docker based Thingy” is a tool for managing and running OCI containers using crun</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classIDobbyPlugin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IDobbyPlugin Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="structInterface.html">Interface</a> that plugin libraries have to implement.  
 <a href="classIDobbyPlugin.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="IDobbyPlugin_8h_source.html">IDobbyPlugin.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IDobbyPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classIDobbyPlugin__inherit__graph.png" border="0" usemap="#aIDobbyPlugin_inherit__map" alt="Inheritance graph"/></div>
<map name="aIDobbyPlugin_inherit__map" id="aIDobbyPlugin_inherit__map">
<area shape="rect" title="Interface that plugin libraries have to implement." alt="" coords="266,5,374,32"/>
<area shape="rect" href="classPluginBase.html" title="Basic object that provides the default overrides for a plugin." alt="" coords="273,80,367,107"/>
<area shape="rect" href="classEthanLogPlugin.html" title="Plugin library that create a DIAG logging pipe for a container." alt="" coords="5,155,128,181"/>
<area shape="rect" href="classMulticastSocketPlugin.html" title="Plugin used to setup multicast server and client sockets out of the container and passes their file d..." alt="" coords="152,155,317,181"/>
<area shape="rect" href="classOpenCDMPlugin.html" title="Dobby plugin for creating the necessary OCDM buffers." alt="" coords="342,155,469,181"/>
<area shape="rect" href="classPerfettoPlugin.html" title="Dobby plugin for granting access to system perfetto tracing in the container." alt="" coords="493,155,608,181"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aae38a6ab99d6a815be198ff17f0dfacd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#aae38a6ab99d6a815be198ff17f0dfacd">HintFlags</a> : unsigned { <br />
&#160;&#160;<b>PostConstructionSync</b> = (1 &lt;&lt; 0)
, <b>PreStartSync</b> = (1 &lt;&lt; 1)
, <b>PostStartSync</b> = (1 &lt;&lt; 2)
, <b>PostStopSync</b> = (1 &lt;&lt; 3)
, <br />
&#160;&#160;<b>PreDestructionSync</b> = (1 &lt;&lt; 4)
, <b>PostConstructionAsync</b> = (1 &lt;&lt; 16)
, <b>PreStartAsync</b> = (1 &lt;&lt; 17)
, <b>PostStartAsync</b> = (1 &lt;&lt; 18)
, <br />
&#160;&#160;<b>PostStopAsync</b> = (1 &lt;&lt; 19)
, <b>PreDestructionAsync</b> = (1 &lt;&lt; 20)
<br />
 }</td></tr>
<tr class="memdesc:aae38a6ab99d6a815be198ff17f0dfacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flags that should be returned by hookHints.  <a href="classIDobbyPlugin.html#aae38a6ab99d6a815be198ff17f0dfacd">More...</a><br /></td></tr>
<tr class="separator:aae38a6ab99d6a815be198ff17f0dfacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adf25d402500239a690246da6fc312a7b"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#adf25d402500239a690246da6fc312a7b">name</a> () const =0</td></tr>
<tr class="memdesc:adf25d402500239a690246da6fc312a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should return the name of the plugin, this is used to match against the json spec file used to create the container.  <a href="classIDobbyPlugin.html#adf25d402500239a690246da6fc312a7b">More...</a><br /></td></tr>
<tr class="separator:adf25d402500239a690246da6fc312a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44f4df1de4848fa3d43066760329e3a"><td class="memItemLeft" align="right" valign="top">virtual unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#ad44f4df1de4848fa3d43066760329e3a">hookHints</a> () const =0</td></tr>
<tr class="memdesc:ad44f4df1de4848fa3d43066760329e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should return a bitfield of the hook points implemented by the plugin.  <a href="classIDobbyPlugin.html#ad44f4df1de4848fa3d43066760329e3a">More...</a><br /></td></tr>
<tr class="separator:ad44f4df1de4848fa3d43066760329e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc473cf40fe3cfc1faf38b15e3e7ff1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#a4fc473cf40fe3cfc1faf38b15e3e7ff1">postConstruction</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::shared_ptr&lt; <a class="el" href="classIDobbyStartState.html">IDobbyStartState</a> &gt; &amp;startupState, const std::string &amp;rootfsPath, const Json::Value &amp;jsonData)=0</td></tr>
<tr class="memdesc:a4fc473cf40fe3cfc1faf38b15e3e7ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook function called after the rootfs has been created, but before the container is launched.  <a href="classIDobbyPlugin.html#a4fc473cf40fe3cfc1faf38b15e3e7ff1">More...</a><br /></td></tr>
<tr class="separator:a4fc473cf40fe3cfc1faf38b15e3e7ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c91bd4df686becea7c35100cb085c1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#a07c91bd4df686becea7c35100cb085c1">preStart</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, pid_t pid, const std::string &amp;rootfsPath, const Json::Value &amp;jsonData)=0</td></tr>
<tr class="memdesc:a07c91bd4df686becea7c35100cb085c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook function called after the container is setup, but before the init process is executed.  <a href="classIDobbyPlugin.html#a07c91bd4df686becea7c35100cb085c1">More...</a><br /></td></tr>
<tr class="separator:a07c91bd4df686becea7c35100cb085c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320346565acb5770d9331eb21ea3371a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#a320346565acb5770d9331eb21ea3371a">postStart</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, pid_t pid, const std::string &amp;rootfsPath, const Json::Value &amp;jsonData)=0</td></tr>
<tr class="memdesc:a320346565acb5770d9331eb21ea3371a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook function called after the container is started and the init process is now running.  <a href="classIDobbyPlugin.html#a320346565acb5770d9331eb21ea3371a">More...</a><br /></td></tr>
<tr class="separator:a320346565acb5770d9331eb21ea3371a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac495ff9bb9b081c46e50911ef5c1a6b5"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#ac495ff9bb9b081c46e50911ef5c1a6b5">postStop</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;rootfsPath, const Json::Value &amp;jsonData)=0</td></tr>
<tr class="memdesc:ac495ff9bb9b081c46e50911ef5c1a6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook function called after the container has stopped.  <a href="classIDobbyPlugin.html#ac495ff9bb9b081c46e50911ef5c1a6b5">More...</a><br /></td></tr>
<tr class="separator:ac495ff9bb9b081c46e50911ef5c1a6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41832591e92649ea66d8e542e98d735d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyPlugin.html#a41832591e92649ea66d8e542e98d735d">preDestruction</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;rootfsPath, const Json::Value &amp;jsonData)=0</td></tr>
<tr class="memdesc:a41832591e92649ea66d8e542e98d735d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook function called just before the rootfs is deleted, this is called even if there was an error starting the container.  <a href="classIDobbyPlugin.html#a41832591e92649ea66d8e542e98d735d">More...</a><br /></td></tr>
<tr class="separator:a41832591e92649ea66d8e542e98d735d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structInterface.html">Interface</a> that plugin libraries have to implement. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aae38a6ab99d6a815be198ff17f0dfacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae38a6ab99d6a815be198ff17f0dfacd">&#9670;&nbsp;</a></span>HintFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIDobbyPlugin.html#aae38a6ab99d6a815be198ff17f0dfacd">IDobbyPlugin::HintFlags</a> : unsigned</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit flags that should be returned by hookHints. </p>
<p>The flags are fairly self explanatory. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad44f4df1de4848fa3d43066760329e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44f4df1de4848fa3d43066760329e3a">&#9670;&nbsp;</a></span>hookHints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned IDobbyPlugin::hookHints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should return a bitfield of the hook points implemented by the plugin. </p>
<p>Only bits that are set will be called as hooks. This is to optimise the implementation of the hook code in the daemon and means threads aren't spawned for null hook points.</p>
<p>The value returned should be constant for the lifetime of the class, as the value may be cached by the daemon at startup.</p>
<dl class="section return"><dt>Returns</dt><dd>bitmask of the HintFlags bits. </dd></dl>

<p>Implemented in <a class="el" href="classPerfettoPlugin.html#a002925ab6cf2afc154766811fef001fb">PerfettoPlugin</a>, <a class="el" href="classOpenCDMPlugin.html#a9a551002f32f9bca161ecb1be4a93081">OpenCDMPlugin</a>, <a class="el" href="classMulticastSocketPlugin.html#a681ba5a8ab74c73e3758b3ddb57d37be">MulticastSocketPlugin</a>, and <a class="el" href="classEthanLogPlugin.html#a9df344ca210e9f46c0c4ae4309ba09ad">EthanLogPlugin</a>.</p>

</div>
</div>
<a id="adf25d402500239a690246da6fc312a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf25d402500239a690246da6fc312a7b">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string IDobbyPlugin::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should return the name of the plugin, this is used to match against the json spec file used to create the container. </p>
<p>The value returned should be constant for the lifetime of the class, as the value may be cached by the daemon at startup.</p>
<dl class="section return"><dt>Returns</dt><dd>string with the name of the hook. </dd></dl>

<p>Implemented in <a class="el" href="classPerfettoPlugin.html#a19b2f367e75470ef94b7474c0c6d18b7">PerfettoPlugin</a>, <a class="el" href="classOpenCDMPlugin.html#abf8fce644dea919860c1ddb097ff38c3">OpenCDMPlugin</a>, <a class="el" href="classMulticastSocketPlugin.html#abf861f2f12cb9988d3fd1d8f28bc1034">MulticastSocketPlugin</a>, and <a class="el" href="classEthanLogPlugin.html#a8f66463b982fa407e5c48a3dfd64e37d">EthanLogPlugin</a>.</p>

</div>
</div>
<a id="a4fc473cf40fe3cfc1faf38b15e3e7ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc473cf40fe3cfc1faf38b15e3e7ff1">&#9670;&nbsp;</a></span>postConstruction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyPlugin::postConstruction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classIDobbyStartState.html">IDobbyStartState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>startupState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rootfsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>jsonData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook function called after the rootfs has been created, but before the container is launched. </p>
<p>At this point you can setup mounts that the container will see as it hasn't yet created the namespaces. This is typically used to mount something that wouldn't be allowed inside a userns, then once mounted you can hook the prestart phase to move mount it into the container's namespace. </p><dl class="section see"><dt>See also</dt><dd>LoopMounterHook class for where this is used.</dd></dl>
<p>You can also hook this point to allow you to add extra environment variables or pass in additional file descriptors via the <em>startupState</em> class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The string id of the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startupState</td><td>A utility object with methods that allow you to tweak the parameters of the container before it is launched. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootfsPath</td><td>The absolute path to the rootfs of the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jsonData</td><td>The json data from the spec file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classPluginBase.html#ae713819ad289f213ce5b5a9cb099f9b7">PluginBase</a>, <a class="el" href="classPerfettoPlugin.html#a02a36777b71b6083d19d76040ae4844a">PerfettoPlugin</a>, <a class="el" href="classOpenCDMPlugin.html#a76eb88625736e186937c6b1dec4b04a4">OpenCDMPlugin</a>, <a class="el" href="classMulticastSocketPlugin.html#ae5bb65019c289b22672e7ec484af8dc6">MulticastSocketPlugin</a>, and <a class="el" href="classEthanLogPlugin.html#ae3c0386ad9e4afc57f54e24f286d20e2">EthanLogPlugin</a>.</p>

</div>
</div>
<a id="a320346565acb5770d9331eb21ea3371a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320346565acb5770d9331eb21ea3371a">&#9670;&nbsp;</a></span>postStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyPlugin::postStart </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rootfsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>jsonData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook function called after the container is started and the init process is now running. </p>
<p>This hook is not particularly useful, although it can be used to inform clients that a container has started successifully.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the container (string) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The pid of the init process in the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootfsPath</td><td>The absolute path to the rootfs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jsonData</td><td>The json data for the hook specified in the container spec file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classPluginBase.html#a208cf211e3c53dfc2bdf52841fd573be">PluginBase</a>.</p>

</div>
</div>
<a id="ac495ff9bb9b081c46e50911ef5c1a6b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac495ff9bb9b081c46e50911ef5c1a6b5">&#9670;&nbsp;</a></span>postStop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyPlugin::postStop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rootfsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>jsonData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook function called after the container has stopped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the container (string) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootfsPath</td><td>The absolute path to the rootfs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jsonData</td><td>The json data for the hook specified in the container spec file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classPluginBase.html#af402d32b6f76fb26bf195c1888ca7bb1">PluginBase</a>.</p>

</div>
</div>
<a id="a41832591e92649ea66d8e542e98d735d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41832591e92649ea66d8e542e98d735d">&#9670;&nbsp;</a></span>preDestruction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyPlugin::preDestruction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rootfsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>jsonData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook function called just before the rootfs is deleted, this is called even if there was an error starting the container. </p>
<p>This hook is called at a very similar place to postStop, but it will be called even if the container failed to start (but as long as postConstruction was called).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The string id of the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootfsPath</td><td>The absolute path to the rootfs of the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jsonData</td><td>The json data from the spec file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classPluginBase.html#a621b37e0667f739486573fbaa5b6c723">PluginBase</a>.</p>

</div>
</div>
<a id="a07c91bd4df686becea7c35100cb085c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c91bd4df686becea7c35100cb085c1">&#9670;&nbsp;</a></span>preStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyPlugin::preStart </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rootfsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>jsonData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook function called after the container is setup, but before the init process is executed. </p>
<p>The hooks are run after the mounts are setup, but before we switch to the new root, so that the old root is still available in the hooks for any mount manipulations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The string id of the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The pid owner of the namespace to enter, typically the pid of the process in the container. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nsType</td><td>The type of the namespace to enter, see above. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>The actual function to execute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classPluginBase.html#ae684b4cb9b9180474184687c493d4f84">PluginBase</a>, and <a class="el" href="classEthanLogPlugin.html#a01a8ce5f46b59e13eb286c1b5037b441">EthanLogPlugin</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>daemon/lib/include/<a class="el" href="IDobbyPlugin_8h_source.html">IDobbyPlugin.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
