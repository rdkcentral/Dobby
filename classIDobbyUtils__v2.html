<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dobby: IDobbyUtils_v2 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dobby<span id="projectnumber">&#160;3.0</span>
   </div>
   <div id="projectbrief">Dobby “Docker based Thingy” is a tool for managing and running OCI containers using crun</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classIDobbyUtils__v2-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">IDobbyUtils_v2 Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Second version of the interface containing extra functions for working with iptables.  
 <a href="classIDobbyUtils__v2.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="IDobbyUtils_8h_source.html">IDobbyUtils.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IDobbyUtils_v2:</div>
<div class="dyncontent">
<div class="center"><img src="classIDobbyUtils__v2__inherit__graph.png" border="0" usemap="#aIDobbyUtils__v2_inherit__map" alt="Inheritance graph"/></div>
<map name="aIDobbyUtils__v2_inherit__map" id="aIDobbyUtils__v2_inherit__map">
<area shape="rect" title="Second version of the interface containing extra functions for working with iptables." alt="" coords="5,79,127,104"/>
<area shape="rect" href="classIDobbyUtils__v3.html" title="Third version of the interface containing extra functions for working with ebtables." alt="" coords="5,152,127,177"/>
<area shape="poly" title=" " alt="" coords="69,118,69,152,63,152,63,118"/>
<area shape="rect" href="classIDobbyUtils__v1.html" title="Interface that exports some utilities that plugins may find useful." alt="" coords="5,5,127,31"/>
<area shape="poly" title=" " alt="" coords="69,44,69,79,63,79,63,44"/>
<area shape="rect" href="classDobbyUtils.html" title="Utility methods for hooks and the general containiser daemon." alt="" coords="19,225,113,251"/>
<area shape="poly" title=" " alt="" coords="69,191,69,225,63,225,63,191"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for IDobbyUtils_v2:</div>
<div class="dyncontent">
<div class="center"><img src="classIDobbyUtils__v2__coll__graph.png" border="0" usemap="#aIDobbyUtils__v2_coll__map" alt="Collaboration graph"/></div>
<map name="aIDobbyUtils__v2_coll__map" id="aIDobbyUtils__v2_coll__map">
<area shape="rect" title="Second version of the interface containing extra functions for working with iptables." alt="" coords="5,79,127,104"/>
<area shape="rect" href="classIDobbyUtils__v1.html" title="Interface that exports some utilities that plugins may find useful." alt="" coords="5,5,127,31"/>
<area shape="poly" title=" " alt="" coords="69,44,69,79,63,79,63,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11ef5c9a28210047ffe773f228cc8369" id="r_a11ef5c9a28210047ffe773f228cc8369"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a11ef5c9a28210047ffe773f228cc8369">setIntegerMetaData</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key, int value)=0</td></tr>
<tr class="memdesc:a11ef5c9a28210047ffe773f228cc8369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets / Gets integer meta data for the given container.  <br /></td></tr>
<tr class="separator:a11ef5c9a28210047ffe773f228cc8369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957154e9fe7c618c5b8c794d19b8ec78" id="r_a957154e9fe7c618c5b8c794d19b8ec78"><td class="memItemLeft" align="right" valign="top"><a id="a957154e9fe7c618c5b8c794d19b8ec78" name="a957154e9fe7c618c5b8c794d19b8ec78"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><b>getIntegerMetaData</b> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key, int defaultValue) const =0</td></tr>
<tr class="separator:a957154e9fe7c618c5b8c794d19b8ec78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e02b3b7a6b4385b748525f233bf6b79" id="r_a3e02b3b7a6b4385b748525f233bf6b79"><td class="memItemLeft" align="right" valign="top"><a id="a3e02b3b7a6b4385b748525f233bf6b79" name="a3e02b3b7a6b4385b748525f233bf6b79"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getIntegerMetaData</b> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key)</td></tr>
<tr class="separator:a3e02b3b7a6b4385b748525f233bf6b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2375bdcbd779ab174b47ee34edfd4e1" id="r_ae2375bdcbd779ab174b47ee34edfd4e1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#ae2375bdcbd779ab174b47ee34edfd4e1">setStringMetaData</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key, const std::string &amp;value)=0</td></tr>
<tr class="memdesc:ae2375bdcbd779ab174b47ee34edfd4e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets / Gets string meta data for the given container.  <br /></td></tr>
<tr class="separator:ae2375bdcbd779ab174b47ee34edfd4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c965a7c9fc4536f4765fd0b33985a13" id="r_a8c965a7c9fc4536f4765fd0b33985a13"><td class="memItemLeft" align="right" valign="top"><a id="a8c965a7c9fc4536f4765fd0b33985a13" name="a8c965a7c9fc4536f4765fd0b33985a13"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getStringMetaData</b> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key, const std::string &amp;defaultValue) const =0</td></tr>
<tr class="separator:a8c965a7c9fc4536f4765fd0b33985a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c6f7f156664406cf6a88219e07d29e" id="r_a73c6f7f156664406cf6a88219e07d29e"><td class="memItemLeft" align="right" valign="top"><a id="a73c6f7f156664406cf6a88219e07d29e" name="a73c6f7f156664406cf6a88219e07d29e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getStringMetaData</b> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id, const std::string &amp;key)</td></tr>
<tr class="separator:a73c6f7f156664406cf6a88219e07d29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b83eb2107e57a8cf11bc50c7fa26568" id="r_a5b83eb2107e57a8cf11bc50c7fa26568"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a5b83eb2107e57a8cf11bc50c7fa26568">clearContainerMetaData</a> (const <a class="el" href="classContainerId.html">ContainerId</a> &amp;id)=0</td></tr>
<tr class="separator:a5b83eb2107e57a8cf11bc50c7fa26568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da40b4f94a877cc2f0dfbd58d08e4e8" id="r_a0da40b4f94a877cc2f0dfbd58d08e4e8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a0da40b4f94a877cc2f0dfbd58d08e4e8">mkdirRecursive</a> (const std::string &amp;path, mode_t mode) const=0</td></tr>
<tr class="memdesc:a0da40b4f94a877cc2f0dfbd58d08e4e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a directory and all parent directories as needed.  <br /></td></tr>
<tr class="separator:a0da40b4f94a877cc2f0dfbd58d08e4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085" id="r_a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085">mkdirRecursive</a> (int dirFd, const std::string &amp;path, mode_t mode) const=0</td></tr>
<tr class="separator:a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107555fb33650dc383b5eb787b8c3cb6" id="r_a107555fb33650dc383b5eb787b8c3cb6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a107555fb33650dc383b5eb787b8c3cb6">rmdirRecursive</a> (const std::string &amp;path) const=0</td></tr>
<tr class="memdesc:a107555fb33650dc383b5eb787b8c3cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a directory and all it's contents.  <br /></td></tr>
<tr class="separator:a107555fb33650dc383b5eb787b8c3cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b8bf3209a43b51c37830770ccfbc6b" id="r_a46b8bf3209a43b51c37830770ccfbc6b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a46b8bf3209a43b51c37830770ccfbc6b">rmdirRecursive</a> (int dirFd, const std::string &amp;path) const=0</td></tr>
<tr class="separator:a46b8bf3209a43b51c37830770ccfbc6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d32a5a7120a0a9c4a1eb0a015d7dab4" id="r_a1d32a5a7120a0a9c4a1eb0a015d7dab4"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a1d32a5a7120a0a9c4a1eb0a015d7dab4">rmdirContents</a> (const std::string &amp;path) const=0</td></tr>
<tr class="memdesc:a1d32a5a7120a0a9c4a1eb0a015d7dab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the contents of a directory but leave the actual directory in place.  <br /></td></tr>
<tr class="separator:a1d32a5a7120a0a9c4a1eb0a015d7dab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae772039a58da7ca2c2a5bdc025ef9a6a" id="r_ae772039a58da7ca2c2a5bdc025ef9a6a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#ae772039a58da7ca2c2a5bdc025ef9a6a">rmdirContents</a> (int dirFd, const std::string &amp;path) const=0</td></tr>
<tr class="separator:ae772039a58da7ca2c2a5bdc025ef9a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359b45b09f63e997740f866964e2e859" id="r_a359b45b09f63e997740f866964e2e859"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a359b45b09f63e997740f866964e2e859">rmdirContents</a> (int dirFd) const=0</td></tr>
<tr class="separator:a359b45b09f63e997740f866964e2e859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67baa8581bf1b17c72220de8a759865" id="r_af67baa8581bf1b17c72220de8a759865"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#af67baa8581bf1b17c72220de8a759865">loopDeviceAssociate</a> (int fileFd, std::string *loopDevPath=nullptr) const=0</td></tr>
<tr class="memdesc:af67baa8581bf1b17c72220de8a759865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associates a give file descriptor with a loop device.  <br /></td></tr>
<tr class="separator:af67baa8581bf1b17c72220de8a759865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6cdaed03bc66e7bd709cb83eff3a089" id="r_ab6cdaed03bc66e7bd709cb83eff3a089"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#ab6cdaed03bc66e7bd709cb83eff3a089">checkExtImageFile</a> (int dirFd, const std::string &amp;imageFileName, bool repair=true) const=0</td></tr>
<tr class="memdesc:ab6cdaed03bc66e7bd709cb83eff3a089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the e2fsck tool on a file system image to check it's integrity.  <br /></td></tr>
<tr class="separator:ab6cdaed03bc66e7bd709cb83eff3a089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4e58dcb654d379efe7ab412f808bf9" id="r_a0b4e58dcb654d379efe7ab412f808bf9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a0b4e58dcb654d379efe7ab412f808bf9">formatExtImageFile</a> (int dirFd, const std::string &amp;imageFileName, const std::string &amp;fsType=&quot;ext4&quot;) const=0</td></tr>
<tr class="memdesc:a0b4e58dcb654d379efe7ab412f808bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the mke2fs tool to format a file system image.  <br /></td></tr>
<tr class="separator:a0b4e58dcb654d379efe7ab412f808bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232deb2a6f5b0ee8a6e16df5cad95892" id="r_a232deb2a6f5b0ee8a6e16df5cad95892"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a232deb2a6f5b0ee8a6e16df5cad95892">cleanMountLostAndFound</a> (const std::string &amp;mountPoint, const std::string &amp;logTag=std::string()) const=0</td></tr>
<tr class="memdesc:a232deb2a6f5b0ee8a6e16df5cad95892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs and deletes any files found in the lost+found directory of the mount point.  <br /></td></tr>
<tr class="separator:a232deb2a6f5b0ee8a6e16df5cad95892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b61a78eee78b14543c3cc54060b5ac8" id="r_a4b61a78eee78b14543c3cc54060b5ac8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a4b61a78eee78b14543c3cc54060b5ac8">writeTextFile</a> (const std::string &amp;path, const std::string &amp;str, int flags, mode_t mode=0644) const=0</td></tr>
<tr class="memdesc:a4b61a78eee78b14543c3cc54060b5ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simply writes a string into a file.  <br /></td></tr>
<tr class="separator:a4b61a78eee78b14543c3cc54060b5ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af034b3bdb2675032455b94c5c0b043bb" id="r_af034b3bdb2675032455b94c5c0b043bb"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#af034b3bdb2675032455b94c5c0b043bb">writeTextFileAt</a> (int dirFd, const std::string &amp;path, const std::string &amp;str, int flags, mode_t mode=0644) const=0</td></tr>
<tr class="separator:af034b3bdb2675032455b94c5c0b043bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7bb240a59f3341c9c3b248d46d4198" id="r_a9a7bb240a59f3341c9c3b248d46d4198"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a9a7bb240a59f3341c9c3b248d46d4198">readTextFile</a> (const std::string &amp;path, size_t maxLen=4096) const=0</td></tr>
<tr class="memdesc:a9a7bb240a59f3341c9c3b248d46d4198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simply read a string from a file.  <br /></td></tr>
<tr class="separator:a9a7bb240a59f3341c9c3b248d46d4198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f776fc5756cc70e36b8316c5df3ac46" id="r_a3f776fc5756cc70e36b8316c5df3ac46"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a3f776fc5756cc70e36b8316c5df3ac46">readTextFileAt</a> (int dirFd, const std::string &amp;path, size_t maxLen=4096) const=0</td></tr>
<tr class="separator:a3f776fc5756cc70e36b8316c5df3ac46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bda461d4d7f42c0730d728ca949437" id="r_a67bda461d4d7f42c0730d728ca949437"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a67bda461d4d7f42c0730d728ca949437">getNamespaceFd</a> (pid_t pid, int nsType) const=0</td></tr>
<tr class="memdesc:a67bda461d4d7f42c0730d728ca949437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a file descriptor to the given namespace of the process.  <br /></td></tr>
<tr class="separator:a67bda461d4d7f42c0730d728ca949437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7807d22d0af211daab916d7bc2b128" id="r_ada7807d22d0af211daab916d7bc2b128"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#ada7807d22d0af211daab916d7bc2b128">cancelTimer</a> (int timerId) const=0</td></tr>
<tr class="memdesc:ada7807d22d0af211daab916d7bc2b128"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the given timer from the timer queue.  <br /></td></tr>
<tr class="separator:ada7807d22d0af211daab916d7bc2b128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac0f253142a6a556d1d4a9e0528860d" id="r_a0ac0f253142a6a556d1d4a9e0528860d"><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a0ac0f253142a6a556d1d4a9e0528860d">getDriverMajorNumber</a> (const std::string &amp;driverName) const=0</td></tr>
<tr class="memdesc:a0ac0f253142a6a556d1d4a9e0528860d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the major number assigned to a given driver.  <br /></td></tr>
<tr class="separator:a0ac0f253142a6a556d1d4a9e0528860d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87896f9c99ac89657b85049049c0a39" id="r_ab87896f9c99ac89657b85049049c0a39"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#ab87896f9c99ac89657b85049049c0a39">deviceAllowed</a> (dev_t device) const=0</td></tr>
<tr class="memdesc:ab87896f9c99ac89657b85049049c0a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given device is allowed in the container.  <br /></td></tr>
<tr class="separator:ab87896f9c99ac89657b85049049c0a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63592339480cc99ad076f57101efb329" id="r_a63592339480cc99ad076f57101efb329"><td class="memItemLeft" align="right" valign="top"><a id="a63592339480cc99ad076f57101efb329" name="a63592339480cc99ad076f57101efb329"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>deviceAllowed</b> (unsigned int major, unsigned int minor) const</td></tr>
<tr class="separator:a63592339480cc99ad076f57101efb329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a15bee053eb9528d837ed07c52eab22" id="r_a3a15bee053eb9528d837ed07c52eab22"><td class="memItemLeft" align="right" valign="top">virtual gid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#a3a15bee053eb9528d837ed07c52eab22">getGID</a> (pid_t pid) const=0</td></tr>
<tr class="memdesc:a3a15bee053eb9528d837ed07c52eab22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the GID for the given PID.  <br /></td></tr>
<tr class="separator:a3a15bee053eb9528d837ed07c52eab22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea62490e8fe8217f0f186f713cec4943" id="r_aea62490e8fe8217f0f186f713cec4943"><td class="memItemLeft" align="right" valign="top">virtual uid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v2.html#aea62490e8fe8217f0f186f713cec4943">getUID</a> (pid_t pid) const=0</td></tr>
<tr class="memdesc:aea62490e8fe8217f0f186f713cec4943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the UID for the given PID.  <br /></td></tr>
<tr class="separator:aea62490e8fe8217f0f186f713cec4943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classIDobbyUtils__v1"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classIDobbyUtils__v1')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a></td></tr>
<tr class="memitem:adf774c0a50303a0cea25b97dd5b2591f inherit pub_methods_classIDobbyUtils__v1" id="r_adf774c0a50303a0cea25b97dd5b2591f"><td class="memTemplParams" colspan="2">template&lt;class Function &gt; </td></tr>
<tr class="memitem:adf774c0a50303a0cea25b97dd5b2591f inherit pub_methods_classIDobbyUtils__v1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#adf774c0a50303a0cea25b97dd5b2591f">callInNamespace</a> (pid_t pid, int nsType, Function func) const</td></tr>
<tr class="memdesc:adf774c0a50303a0cea25b97dd5b2591f inherit pub_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the given function in the namespace of given pid.  <br /></td></tr>
<tr class="separator:adf774c0a50303a0cea25b97dd5b2591f inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe879ff2205f02b05862b4e41d7fb384 inherit pub_methods_classIDobbyUtils__v1" id="r_afe879ff2205f02b05862b4e41d7fb384"><td class="memTemplParams" colspan="2">template&lt;class Function , class... Args&gt; </td></tr>
<tr class="memitem:afe879ff2205f02b05862b4e41d7fb384 inherit pub_methods_classIDobbyUtils__v1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#afe879ff2205f02b05862b4e41d7fb384">callInNamespace</a> (pid_t pid, int nsType, Function &amp;&amp;f, Args &amp;&amp;... args) const</td></tr>
<tr class="memdesc:afe879ff2205f02b05862b4e41d7fb384 inherit pub_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slightly nicer version of callInNamespace, handles the function bind for you automatically.  <br /></td></tr>
<tr class="separator:afe879ff2205f02b05862b4e41d7fb384 inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0a259821d7a4b6b3137fc78b5a5c5d inherit pub_methods_classIDobbyUtils__v1" id="r_a0d0a259821d7a4b6b3137fc78b5a5c5d"><td class="memTemplParams" colspan="2">template&lt;class Rep , class Period &gt; </td></tr>
<tr class="memitem:a0d0a259821d7a4b6b3137fc78b5a5c5d inherit pub_methods_classIDobbyUtils__v1"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#a0d0a259821d7a4b6b3137fc78b5a5c5d">startTimer</a> (const std::chrono::duration&lt; Rep, Period &gt; &amp;timeout, bool oneShot, const std::function&lt; bool()&gt; &amp;handler) const</td></tr>
<tr class="memdesc:a0d0a259821d7a4b6b3137fc78b5a5c5d inherit pub_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new timer to the timer queue.  <br /></td></tr>
<tr class="separator:a0d0a259821d7a4b6b3137fc78b5a5c5d inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0591ef4ca475f23f8809c86b96f4a018 inherit pub_methods_classIDobbyUtils__v1" id="r_a0591ef4ca475f23f8809c86b96f4a018"><td class="memTemplParams" colspan="2">template&lt;class Function &gt; </td></tr>
<tr class="memitem:a0591ef4ca475f23f8809c86b96f4a018 inherit pub_methods_classIDobbyUtils__v1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#a0591ef4ca475f23f8809c86b96f4a018">callInNamespace</a> (int namespaceFd, Function func) const</td></tr>
<tr class="memdesc:a0591ef4ca475f23f8809c86b96f4a018 inherit pub_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the given function in the namespace of the descriptor.  <br /></td></tr>
<tr class="separator:a0591ef4ca475f23f8809c86b96f4a018 inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcb9b5b0959d391d655a0d919411e7e inherit pub_methods_classIDobbyUtils__v1" id="r_a9fcb9b5b0959d391d655a0d919411e7e"><td class="memTemplParams" colspan="2">
template&lt;class Function , class... Args&gt; </td></tr>
<tr class="memitem:a9fcb9b5b0959d391d655a0d919411e7e inherit pub_methods_classIDobbyUtils__v1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>callInNamespace</b> (int namespaceFd, Function &amp;&amp;f, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a9fcb9b5b0959d391d655a0d919411e7e inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63592339480cc99ad076f57101efb329 inherit pub_methods_classIDobbyUtils__v1" id="r_a63592339480cc99ad076f57101efb329"><td class="memItemLeft" align="right" valign="top">
bool&#160;</td><td class="memItemRight" valign="bottom"><b>deviceAllowed</b> (unsigned int major, unsigned int minor) const</td></tr>
<tr class="separator:a63592339480cc99ad076f57101efb329 inherit pub_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classIDobbyUtils__v1"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classIDobbyUtils__v1')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a></td></tr>
<tr class="memitem:a93958f4a378e14d9a02a0daafb739fe8 inherit pro_methods_classIDobbyUtils__v1" id="r_a93958f4a378e14d9a02a0daafb739fe8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#a93958f4a378e14d9a02a0daafb739fe8">callInNamespaceImpl</a> (pid_t pid, int nsType, const std::function&lt; bool()&gt; &amp;func) const =0</td></tr>
<tr class="memdesc:a93958f4a378e14d9a02a0daafb739fe8 inherit pro_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the callInNamespace public interface.  <br /></td></tr>
<tr class="separator:a93958f4a378e14d9a02a0daafb739fe8 inherit pro_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4f29f96c57c2bc36cb575e0f1c0713 inherit pro_methods_classIDobbyUtils__v1" id="r_afe4f29f96c57c2bc36cb575e0f1c0713"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#afe4f29f96c57c2bc36cb575e0f1c0713">callInNamespaceImpl</a> (int namespaceFd, const std::function&lt; bool()&gt; &amp;func) const =0</td></tr>
<tr class="memdesc:afe4f29f96c57c2bc36cb575e0f1c0713 inherit pro_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the callInNamespace public interface.  <br /></td></tr>
<tr class="separator:afe4f29f96c57c2bc36cb575e0f1c0713 inherit pro_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f6070c42f0d3e6c96bcac33b377665 inherit pro_methods_classIDobbyUtils__v1" id="r_aa5f6070c42f0d3e6c96bcac33b377665"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIDobbyUtils__v1.html#aa5f6070c42f0d3e6c96bcac33b377665">startTimerImpl</a> (const std::chrono::milliseconds &amp;timeout, bool oneShot, const std::function&lt; bool()&gt; &amp;handler) const =0</td></tr>
<tr class="memdesc:aa5f6070c42f0d3e6c96bcac33b377665 inherit pro_methods_classIDobbyUtils__v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new timer to the timer queue.  <br /></td></tr>
<tr class="separator:aa5f6070c42f0d3e6c96bcac33b377665 inherit pro_methods_classIDobbyUtils__v1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Second version of the interface containing extra functions for working with iptables. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ada7807d22d0af211daab916d7bc2b128" name="ada7807d22d0af211daab916d7bc2b128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7807d22d0af211daab916d7bc2b128">&#9670;&#160;</a></span>cancelTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::cancelTimer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timerId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the given timer from the timer queue. </p>
<p>Once this method returns (successfully) you are guaranteed that the timer handler will not be called, i.e. this is synchronisation point.</p>
<p>This method will fail if called from the context of a timer handler, if you want to cancel a repeating timer then just return false in the handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timerId</td><td>The id of the timer to cancel as returned by the <a class="el" href="classIDobbyUtils__v1.html#a0d0a259821d7a4b6b3137fc78b5a5c5d" title="Adds a new timer to the timer queue.">startTimer()</a> method.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the timer was found and was removed from the queue, otherwise false </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#ad15039e696d59220b0aa2f381361b18b">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#ada7807d22d0af211daab916d7bc2b128">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="ab6cdaed03bc66e7bd709cb83eff3a089" name="ab6cdaed03bc66e7bd709cb83eff3a089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6cdaed03bc66e7bd709cb83eff3a089">&#9670;&#160;</a></span>checkExtImageFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::checkExtImageFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>imageFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repair</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the e2fsck tool on a file system image to check it's integrity. </p>
<p>This function does a fork/exec to launch the process, it drops root privileges and runs the tool as user 1000:1000, therefore the file that is being checked should be readable and writeble by user 1000.</p>
<p>If this function returns false the image file should probably be deleted / reformatted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>The fd of the directory containing the the image to check. The function will switch to this directory before dropping permissions (provided it's not AT_FCWD). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageFileName</td><td>The name of the file to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">repair</td><td>If true we'll ask the tool to try and repair the file if it detects any errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the file passes the check (or was successifully repaired) true is returned, otherwise false. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a9a9af4b63056292b0bb66698f86cf8cf">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#ab6cdaed03bc66e7bd709cb83eff3a089">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a232deb2a6f5b0ee8a6e16df5cad95892" name="a232deb2a6f5b0ee8a6e16df5cad95892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232deb2a6f5b0ee8a6e16df5cad95892">&#9670;&#160;</a></span>cleanMountLostAndFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void IDobbyUtils_v1::cleanMountLostAndFound </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mountPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>logTag</em> = <code>std::string()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logs and deletes any files found in the lost+found directory of the mount point. </p>
<p>We should be clearing the lost+found to avoid cruft building up and taking all the space in the loop mount.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mountPoint</td><td>The absolute path to the mounted device, NOT the the location of the lost+found dir. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">logTag</td><td>If not empty then a log warning message will be printed containing the name of the file that was deleted and referencing the the string in logTag. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a147b2aa94ca13129d0299bcd4baf70b1">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a232deb2a6f5b0ee8a6e16df5cad95892">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a5b83eb2107e57a8cf11bc50c7fa26568" name="a5b83eb2107e57a8cf11bc50c7fa26568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b83eb2107e57a8cf11bc50c7fa26568">&#9670;&#160;</a></span>clearContainerMetaData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void IDobbyUtils_v2::clearContainerMetaData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classDobbyUtils.html#a94cba518ab80a1b354dd1134491acbd3">DobbyUtils</a>.</p>

</div>
</div>
<a id="ab87896f9c99ac89657b85049049c0a39" name="ab87896f9c99ac89657b85049049c0a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87896f9c99ac89657b85049049c0a39">&#9670;&#160;</a></span>deviceAllowed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::deviceAllowed </td>
          <td>(</td>
          <td class="paramtype">dev_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the given device is allowed in the container. </p>
<p>This is here for security reasons as I didn't want just any device added to the container whitelist. If we trust the code on the other end of <a class="el" href="classDobby.html" title="The root Dobby object, runs the dbus loop.">Dobby</a> that is creating the containers then this is not needed, but just in case that got hacked I didn't want people to create containers enabling access to CDI / system device nodes.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method doesn't take into account drivers being insmod / rmmod and the re-use of major numbers, however if a user could do that then this check is the least of our problems.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>The major number of the device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>The minor number of the device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the device is allowed, otherwise false. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a4e32d875c6c4f8997cecab9a75dc90af">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#ab87896f9c99ac89657b85049049c0a39">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a0b4e58dcb654d379efe7ab412f808bf9" name="a0b4e58dcb654d379efe7ab412f808bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b4e58dcb654d379efe7ab412f808bf9">&#9670;&#160;</a></span>formatExtImageFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::formatExtImageFile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>imageFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fsType</em> = <code>&quot;ext4&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the mke2fs tool to format a file system image. </p>
<p>This function does a fork/exec to launch the process, it drops root privileges and runs the tool as user 1000:1000, therefore the file that it's formatting should be readable and writeble by user 1000.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>The fd of the directory containing the the image to write. The function will switch to this directory before dropping permissions (provided it's not AT_FCWD). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageFileName</td><td>The name of the file to format, it must already exist. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fsType</td><td>The ext version to format the file as, this is equivalent to the '-t' option and should be one of; 'ext2', 'ext3' or 'ext4'</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success returns true on failure false. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a08d2db01336e05b5b95225557f54c71c">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a0b4e58dcb654d379efe7ab412f808bf9">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a0ac0f253142a6a556d1d4a9e0528860d" name="a0ac0f253142a6a556d1d4a9e0528860d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac0f253142a6a556d1d4a9e0528860d">&#9670;&#160;</a></span>getDriverMajorNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned int IDobbyUtils_v1::getDriverMajorNumber </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>driverName</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the major number assigned to a given driver. </p>
<p>This function tries to find the major number assigned to a given driver, it does this by parsing the /proc/devices file.</p>
<dl class="section warning"><dt>Warning</dt><dd>Currently this function doesn't work for 'misc' devices, which are devices listed by /proc/misc.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">driverName</td><td>The name of the driver to get the major number for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if found the major number is returned, if not found then 0 is returned. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a8e51d664918af6d5bf05f932894cb27b">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a0ac0f253142a6a556d1d4a9e0528860d">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a3a15bee053eb9528d837ed07c52eab22" name="a3a15bee053eb9528d837ed07c52eab22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a15bee053eb9528d837ed07c52eab22">&#9670;&#160;</a></span>getGID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual gid_t IDobbyUtils_v1::getGID </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the GID for the given PID. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classIDobbyUtils__v3.html#a3a15bee053eb9528d837ed07c52eab22" title="Returns the GID for the given PID.">IDobbyUtils::getGID</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The PID of the process to get the GID for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the GID of the process, or 0 if the GID could not be found </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a762c6db2d3a64d7043578e35880b8757">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a3a15bee053eb9528d837ed07c52eab22">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a67bda461d4d7f42c0730d728ca949437" name="a67bda461d4d7f42c0730d728ca949437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bda461d4d7f42c0730d728ca949437">&#9670;&#160;</a></span>getNamespaceFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int IDobbyUtils_v1::getNamespaceFd </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a file descriptor to the given namespace of the process. </p>
<p>The caller is responsible for closing the returned file descriptor when it is no longer required.</p>
<p>The returned namespace can used in the setns(...) call, or other calls that enter / manipulate namespaces.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The pid of the process to get the namespace of. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nsType</td><td>The type of namespace to get, it should be one of the CLONE_NEWxxx constants, see the setns man page for possible values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success the file descriptor to the given namespace, on failure -1 </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a793342eb3b371f5e4d8d5370d4d57342">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a67bda461d4d7f42c0730d728ca949437">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="aea62490e8fe8217f0f186f713cec4943" name="aea62490e8fe8217f0f186f713cec4943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea62490e8fe8217f0f186f713cec4943">&#9670;&#160;</a></span>getUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uid_t IDobbyUtils_v1::getUID </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the UID for the given PID. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classIDobbyUtils__v3.html#aea62490e8fe8217f0f186f713cec4943" title="Returns the UID for the given PID.">IDobbyUtils::getUID</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The PID of the process to get the UID for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the UID of the process, or 0 if the UID could not be found </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a6d054913c462aa11498689a48b98a8e2">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#aea62490e8fe8217f0f186f713cec4943">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="af67baa8581bf1b17c72220de8a759865" name="af67baa8581bf1b17c72220de8a759865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67baa8581bf1b17c72220de8a759865">&#9670;&#160;</a></span>loopDeviceAssociate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int IDobbyUtils_v1::loopDeviceAssociate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fileFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>loopDevPath</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associates a give file descriptor with a loop device. </p>
<p>First the function attempts to get a free loop device, if that succeeds it attaches the supplied file descriptor to it and returns an fd to the loop device and (optionally) writes the path to the loop device in the <em>loopDevPath</em> string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileFd</td><td>An open file descriptor to associate with the loop device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">loopDevPath</td><td>If not null, the method will write the path to the loop device dev node into the string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success returns the open file descriptor to the loop device associated with the file, on failure -1. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a3115fc5af9913b0cb56551bf1941b388">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#af67baa8581bf1b17c72220de8a759865">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a0da40b4f94a877cc2f0dfbd58d08e4e8" name="a0da40b4f94a877cc2f0dfbd58d08e4e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0da40b4f94a877cc2f0dfbd58d08e4e8">&#9670;&#160;</a></span>mkdirRecursive() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::mkdirRecursive </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes a directory and all parent directories as needed. </p>
<p>This is equivalent to the 'mkdir -p &lt;dir&gt;' command.</p>
<p>All directories created will have access mode set by <em>mode</em>, for this reason the mode should be at least 'rwx---&mdash;'.</p>
<p>If the pathname given in pathname is relative, then it is interpreted relative to the directory referred to by the file descriptor dirFd, if dirFd is not supplied then it's relative to the cwd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>If specified the path should be relative to to this directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to the directory to create. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>The file access mode to give to all directories created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a399777342b6320b23c32650bfdb55a3b">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a0da40b4f94a877cc2f0dfbd58d08e4e8">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085" name="a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2ffb6ba3dc5ef4ebeb4fa62fcf4085">&#9670;&#160;</a></span>mkdirRecursive() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::mkdirRecursive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<a id="a9a7bb240a59f3341c9c3b248d46d4198" name="a9a7bb240a59f3341c9c3b248d46d4198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a7bb240a59f3341c9c3b248d46d4198">&#9670;&#160;</a></span>readTextFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string IDobbyUtils_v1::readTextFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxLen</em> = <code>4096</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simply read a string from a file. </p>
<p>Not much more to say really.</p>
<p>If the pathname given in <em>filePath</em> is relative, then it is interpreted relative to the directory referred to by the file descriptor <em>dirFd</em>, if <em>dirFd</em> is not supplied then it's relative to the cwd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>If specified the path should be relative to to this directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to file to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLen</td><td>The maximum number of characters to read, defaults to 4096.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the string read from the file, on failure an empty string. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a32a7378abf4c6047eb1c1244e4f6706f">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a9a7bb240a59f3341c9c3b248d46d4198">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a3f776fc5756cc70e36b8316c5df3ac46" name="a3f776fc5756cc70e36b8316c5df3ac46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f776fc5756cc70e36b8316c5df3ac46">&#9670;&#160;</a></span>readTextFileAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string IDobbyUtils_v1::readTextFileAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxLen</em> = <code>4096</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<a id="a1d32a5a7120a0a9c4a1eb0a015d7dab4" name="a1d32a5a7120a0a9c4a1eb0a015d7dab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d32a5a7120a0a9c4a1eb0a015d7dab4">&#9670;&#160;</a></span>rmdirContents() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::rmdirContents </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the contents of a directory but leave the actual directory in place. </p>
<p>This is equivalent to the 'rm -rf &lt;dir&gt;/ *' command.</p>
<p>If the pathname given in pathname is relative, then it is interpreted relative to the directory referred to by the file descriptor dirFd, if dirFd is not supplied then it's relative to the cwd.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function only supports deleting directories with contents that are less than 128 levels deep, this is to avoid running out of file descriptors.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>If specified the path should be relative to to this directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to the directory to create. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>The file access mode to give to all directories created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a5de5378547d50bb463a1c3f1b99bacf7">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a1d32a5a7120a0a9c4a1eb0a015d7dab4">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a359b45b09f63e997740f866964e2e859" name="a359b45b09f63e997740f866964e2e859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a359b45b09f63e997740f866964e2e859">&#9670;&#160;</a></span>rmdirContents() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::rmdirContents </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<a id="ae772039a58da7ca2c2a5bdc025ef9a6a" name="ae772039a58da7ca2c2a5bdc025ef9a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae772039a58da7ca2c2a5bdc025ef9a6a">&#9670;&#160;</a></span>rmdirContents() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::rmdirContents </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<a id="a107555fb33650dc383b5eb787b8c3cb6" name="a107555fb33650dc383b5eb787b8c3cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107555fb33650dc383b5eb787b8c3cb6">&#9670;&#160;</a></span>rmdirRecursive() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::rmdirRecursive </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a directory and all it's contents. </p>
<p>This is equivalent to the 'rm -rf &lt;dir&gt;' command.</p>
<p>If the pathname given in pathname is relative, then it is interpreted relative to the directory referred to by the file descriptor dirFd, if dirFd is not supplied then it's relative to the cwd.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function only supports deleting directories with contents that are less than 128 levels deep, this is to avoid running out of file descriptors.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>If specified the path should be relative to to this directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to the directory to create. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>The file access mode to give to all directories created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#a689b8893888afc7d619175e787b370dd">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a107555fb33650dc383b5eb787b8c3cb6">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a46b8bf3209a43b51c37830770ccfbc6b" name="a46b8bf3209a43b51c37830770ccfbc6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b8bf3209a43b51c37830770ccfbc6b">&#9670;&#160;</a></span>rmdirRecursive() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::rmdirRecursive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<a id="a11ef5c9a28210047ffe773f228cc8369" name="a11ef5c9a28210047ffe773f228cc8369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ef5c9a28210047ffe773f228cc8369">&#9670;&#160;</a></span>setIntegerMetaData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void IDobbyUtils_v2::setIntegerMetaData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets / Gets integer meta data for the given container. </p>
<p>You can use this to share meta data about the container across different plugins. For example if network namespaces are enabled.</p>
<p>The data is cleared automatically when the container is shutdown. </p>

<p>Implemented in <a class="el" href="classDobbyUtils.html#a23fd9a987ebd196d222526690134eadc">DobbyUtils</a>, and <a class="el" href="classIDobbyUtils__v3.html#a11ef5c9a28210047ffe773f228cc8369">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="ae2375bdcbd779ab174b47ee34edfd4e1" name="ae2375bdcbd779ab174b47ee34edfd4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2375bdcbd779ab174b47ee34edfd4e1">&#9670;&#160;</a></span>setStringMetaData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void IDobbyUtils_v2::setStringMetaData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classContainerId.html">ContainerId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets / Gets string meta data for the given container. </p>
<p>You can use this to share meta data about the container across different plugins. For example the ip address assigned to the container.</p>
<p>The data is cleared automatically when the container is shutdown. </p>

<p>Implemented in <a class="el" href="classDobbyUtils.html#a121da4f1b6e7972f5e014cc5bd76e82f">DobbyUtils</a>, and <a class="el" href="classIDobbyUtils__v3.html#ae2375bdcbd779ab174b47ee34edfd4e1">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="a4b61a78eee78b14543c3cc54060b5ac8" name="a4b61a78eee78b14543c3cc54060b5ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b61a78eee78b14543c3cc54060b5ac8">&#9670;&#160;</a></span>writeTextFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::writeTextFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em> = <code>0644</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simply writes a string into a file. </p>
<p>Not much more to say really.</p>
<p>If the pathname given in <em>filePath</em> is relative, then it is interpreted relative to the directory referred to by the file descriptor <em>dirFd</em>, if <em>dirFd</em> is not supplied then it's relative to the cwd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFd</td><td>If specified the path should be relative to to this directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to file to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Open flags, these will be OR'd with O_WRONLY and O_CLOEXEC. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>The file access mode to set if O_CREAT was specified in flags and the file was created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Implements <a class="el" href="classIDobbyUtils__v1.html#af98f9f383a20991a5a04cde199972b83">IDobbyUtils_v1</a>.</p>

<p>Reimplemented in <a class="el" href="classIDobbyUtils__v3.html#a4b61a78eee78b14543c3cc54060b5ac8">IDobbyUtils_v3</a>.</p>

</div>
</div>
<a id="af034b3bdb2675032455b94c5c0b043bb" name="af034b3bdb2675032455b94c5c0b043bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af034b3bdb2675032455b94c5c0b043bb">&#9670;&#160;</a></span>writeTextFileAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IDobbyUtils_v1::writeTextFileAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em> = <code>0644</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classIDobbyUtils__v1.html">IDobbyUtils_v1</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>utils/include/<a class="el" href="IDobbyUtils_8h_source.html">IDobbyUtils.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
